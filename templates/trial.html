<!DOCTYPE html>
<html>
<head>
    <title>Image Editor</title>
    <style>
        /* Your existing CSS styles */
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
}

header {
    background-color: #333;
    color: white;
    padding: 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header .logo {
    font-size: 24px;
    font-weight: bold;
    color: #4285F4;
    text-decoration: none;
}

header nav {
    display: flex;
    align-items: center;
}

header nav a {
    color: white;
    text-decoration: none;
    margin-right: 20px;
    padding: 10px 10px;
    border-radius: 4px;
    transition: background-color 0.3s;
}

header nav a:hover {
    background-color: #555;
}

.sign-buttons {
    display: flex;
    align-items: center;
}

.sign-buttons a {
    color: white;
    text-decoration: none;
    margin-right: 10px;
    padding: 10px 15px;
    border-radius: 4px;
    transition: background-color 0.3s;
}

.sign-buttons a:hover {
    background-color: #555;
    text-decoration: none;
}

#filter-options {
    background-color: #f2f2f2;
    padding: 10px;
    display: flex;
    justify-content: center;
    align-items: center;
}

#filter-options button {
    margin-right: 10px;
    padding: 8px 16px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#filter-options button:hover {
    background-color: #45a049;
}

main {
    text-align: center;
    padding: 20px;
}

#image-container {
    margin-bottom: 20px;
}

#image-container img {
    max-width: 100%;
    height: auto;
}

#edited-image-container {
    margin-bottom: 20px;
}
    </style>
</head>
<body>
    <header>
        <h2 class="logo">I❤️IMG</h2>
        <nav>
            <a href="#">CROPPING</a>
            <a href="#">ROTATING</a>
            <a href="#">BLURRING</a>
            <a href="#">Grayscale</a>
        </nav>
        <div class="sign-buttons">
            <a href="#">Login</a>
            <a href="#">Sign Up</a>
        </div>
    </header>
    <div id="filter-options">
        <button id="brightness-btn">Brightness</button>
        <input type="range" id="brightness-value" min="0.1" max="3" step="0.1" value="1">
        <div>
            <button id="contrast-btn">Contrast</button>
            <input type="range" id="contrast-value" min="0.1" max="3" step="0.1" value="1">
        </div>
        <div>
            <button id="sharpen-btn">Sharpen</button>
            <input type="range" id="sharpen-value" min="0.1" max="3" step="0.1" value="1">
        </div>
        <!-- Add more filter buttons here -->
    </div>
    <main>
        <div id="image-container">
            <img id="original-image" src="" alt="Original Image">
        </div>
        <input type="file" id="image-input" accept="image/*">
        <div id="edited-image-container">
            <img id="edited-image" src="" alt="Edited Image">
        </div>
    </main>

    <script>
        const imageInput = document.getElementById('image-input');
        const originalImageContainer = document.getElementById('image-container');
        const originalImage = document.getElementById('original-image');
        const editedImageContainer = document.getElementById('edited-image-container');
        const editedImage = document.getElementById('edited-image');
        const brightnessBtn = document.getElementById('brightness-btn');
        const brightnessValue = document.getElementById('brightness-value');
        const contrastBtn = document.getElementById('contrast-btn');
        const contrastValue = document.getElementById('contrast-value');
        const sharpenBtn = document.getElementById('sharpen-btn');
        const sharpenValue = document.getElementById('sharpen-value');

        imageInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            const reader = new FileReader();
            reader.onload = () => {
                originalImage.src = reader.result;
                editedImage.src = reader.result;
            }
            reader.readAsDataURL(file);
        });

        brightnessBtn.addEventListener('click', () => {
            applyFilter('brightness', brightnessValue.value);
        });

        contrastBtn.addEventListener('click', () => {
            applyFilter('contrast', contrastValue.value);
        });

        sharpenBtn.addEventListener('click', () => {
            applyFilter('sharpen', sharpenValue.value);
        });

        function applyFilter(filterType, value = null) {
            const formData = new FormData();
            formData.append('image', imageInput.files[0]);
            formData.append('filter', filterType);

            if (value !== null) {
                formData.append(filterType, value);
            }

            fetch('/apply_filter', {
                method: 'POST',
                body: formData
            })
            .then(response => response.blob())
            .then(blob => {
                const reader = new FileReader();
                reader.onload = () => {
                    editedImage.src = reader.result;
                }
                reader.readAsDataURL(blob);
            });
        }
    </script>
</body>
</html>


<script>
    const imageInput = document.getElementById('image-input');
    const originalImageBox = document.getElementById('original-image-box');
    const originalImage = document.getElementById('original-image');
    const editedImageBox = document.getElementById('edited-image-box');
    const editedImage = document.getElementById('edited-image');
    const grayscaleBtn = document.getElementById('grayscale-btn');
    const blurBtn = document.getElementById('blur-btn');
    const brightnessBtn = document.getElementById('brightness-btn');
    const brightnessValue = document.getElementById('brightness-value');
    const contrastBtn = document.getElementById('contrast-btn');
    const contrastValue = document.getElementById('contrast-value');
    const sharpenBtn = document.getElementById('sharpen-btn');
    const sharpenValue = document.getElementById('sharpen-value');
    const downloadBtn = document.getElementById('download-btn');

    imageInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        const reader = new FileReader();
        reader.onload = () => {
            originalImage.src = reader.result;
            editedImage.src = reader.result;
        }
        reader.readAsDataURL(file);
    });

    grayscaleBtn.addEventListener('click', () => {
        applyFilter('grayscale');
    });

    blurBtn.addEventListener('click', () => {
        applyFilter('blur');
    });

    brightnessBtn.addEventListener('click', () => {
        applyFilter('brightness', brightnessValue.value);
    });

    contrastBtn.addEventListener('click', () => {
        applyFilter('contrast', contrastValue.value);
    });

    sharpenBtn.addEventListener('click', () => {
        applyFilter('sharpen', sharpenValue.value);
    });

    downloadBtn.addEventListener('click', () => {
        downloadImage();
    });

    function applyFilter(filterType, value = null) {
        const formData = new FormData();
        formData.append('image', imageInput.files[0]);
        formData.append('filter', filterType);

        if (value !== null) {
            formData.append(filterType, value);